<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Global Settings - NextEarnX Manager</title> 
  <link rel="stylesheet" href="css/setting.css">
  <link rel="stylesheet" href="css/theme_base.css">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet"/>
</head>
<body>
    
    <nav class="admin-navbar">
        <h1 class="logo">NextEarn<span>X</span> Manager</h1>
        <button id="adminLogoutBtn" class="admin-logout-btn">Logout</button>
    </nav>

    <div class="main-content">
        <a href="dashboard.html" class="back-link"><i class="ri-arrow-left-line"></i> Back to Dashboard</a>
        
        <h2>Global System Settings</h2>
        <p class="welcome-msg">Manage core system parameters and prices.</p>

        <section class="settings-card">
            <h3>Payment Gateway & Wallet</h3>
            <form id="generalSettingsForm">
                <div class="form-group">
                    <label for="upiId">Current UPI ID:</label>
                    <input type="text" id="upiId" placeholder="e.g., nextadmin@ibl" required>
                </div>

                <div class="form-group">
                    <label for="minDeposit">Minimum Wallet Deposit (₹):</label>
                    <input type="number" id="minDeposit" min="1" placeholder="60" required>
                </div>
                
                <button type="submit" class="action-btn"><i class="ri-save-line"></i> Save General Settings</button>
            </form>
        </section>

        <section class="settings-card">
            <h3>Subscription Prices (₹)</h3>
            <form id="priceSettingsForm">
                <div id="priceInputsContainer">
                    <div class="form-group">
                        <label>1 Month Price (₹):</label>
                        <input type="number" data-plan="1 Month" class="plan-price" min="1" required>
                    </div>
                    <div class="form-group">
                        <label>2 Months Price (₹):</label>
                        <input type="number" data-plan="2 Months" class="plan-price" min="1" required>
                    </div>
                    <div class="form-group">
                        <label>3 Months Price (₹):</label>
                        <input type="number" data-plan="3 Months" class="plan-price" min="1" required>
                    </div>
                </div>
                
                <button type="submit" class="action-btn"><i class="ri-save-line"></i> Save Prices</button>
            </form>
        </section>
    </div>

    <script src="js/admin_auth.js"></script>
    <script src="js/global_settings.js"></script>

    <div id="settingsOtpModal" class="modal-overlay" style="display:none;">
    <div class="modal-content admin-otp-card">
        <button id="closeOtpBtn" class="close-modal-btn">✕</button>
        <h3>Settings Verification</h3>
        <p id="otpMessage">An OTP has been sent to the Super Admin's device.</p>

        <input type="text" id="otpInput" placeholder="6-digit OTP" maxlength="6" />

        <div class="otp-actions">
          <button id="verifyOtpBtn" type="button" class="action-btn verify-btn">Verify OTP</button>
        </div>

        <div class="otp-meta">
          <small id="otpTimer">05:00</small>
          <button id="resendOtpBtn" type="button" class="resend-btn">Resend OTP</button>
        </div>
        
        <p class="dev-note">NOTE: Check the console for the DEV OTP.</p>
    </div>
</div>
</body>
</html>